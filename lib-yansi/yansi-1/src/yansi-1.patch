From 6267e67df9a7090475574917826166f1476b947a Mon Sep 17 00:00:00 2001
From: Sergio Benitez <sb@sergio.bz>
Date: Sat, 23 Jun 2018 21:42:35 -0700
Subject: [PATCH] Fix 'Hash' implementation for 'Style'.

Fixes #5.
---
 src/style.rs | 11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

diff --git a/src/style.rs b/src/style.rs
index 55b5f5e..6096ab2 100644
--- a/src/style.rs
+++ b/src/style.rs
@@ -1,3 +1,4 @@
+use std::hash::{Hash, Hasher};
 use std::fmt::{self, Display};
 use std::ops::BitOr;
 
@@ -146,7 +147,7 @@ impl Iterator for Iter {
 ///   * [`style.fmt_prefix(f: &mut fmt::Formatter)`](Style::fmt_prefix())
 ///   * [`style.fmt_suffix(f: &mut fmt::Formatter)`](Style::fmt_suffix())
 #[repr(packed)]
-#[derive(Default, Debug, Eq, Ord, PartialOrd, Hash, Copy, Clone)]
+#[derive(Default, Debug, Eq, Ord, PartialOrd, Copy, Clone)]
 pub struct Style {
     pub(crate) foreground: Color,
     pub(crate) background: Color,
@@ -162,6 +163,14 @@ impl PartialEq for Style {
     }
 }
 
+impl Hash for Style {
+    fn hash<H: Hasher>(&self, state: &mut H) {
+        self.foreground.hash(state);
+        self.background.hash(state);
+        self.properties.hash(state);
+    }
+}
+
 macro_rules! constructors_for {
     ($($name:ident: $color:ident),*) => ($(
     docify!([
-- 
2.25.1

